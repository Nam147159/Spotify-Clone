<div class="player-bar">
  @if (currentTrack) {
  <div class="track-info">
    <img [src]="currentTrack.album.images[0].url || 'https://placehold.co/150x100'" alt="Album Art" class="album-art" />
    <div class="track-details">
      <span class="track-title">{{ currentTrack.name }}</span>
      <span class="track-artist">{{ currentTrack.artists[0].name }}</span>
    </div>
    <span class="track-status">✔</span>
  </div>
  }
  @else {
  <div class="track-info"></div>
  }

  <!-- Thanh điều khiển và play -->
  <div class="controls-progress">
    <!-- Các nút điều khiển -->
    <div class="player-controls">
      <button class="control-button">
        <i class="pi pi-sync"></i>
      </button>
      <button class="control-button" (click)="previous()">
        <img src="/public/backward-icon.png" alt="Previous">
      </button>
      <button class="play-pause-button" (click)="togglePlay()">
        {{ isPlaying ? '❚❚' : '▶' }}
      </button>
      <button class="control-button" (click)="next()">
        <img src="/public/forward-icon.png" alt="Next">
      </button>
      <button class="control-button" id="repeat-btn"><i class="pi pi-replay"></i></button>
    </div>

    <div class="player-progress-container"> 
      <div class="time-left">{{ currentTime | date:'mm:ss' }}</div>
      <!-- Thanh progress -->
      <div class="player-progress">
        <p-progressBar class="progress-bar" [style]="{ height: '4px' }" [value]="(currentTime / duration) * 100" [showValue]="false"></p-progressBar>
      </div>
      <div class="time-right">{{ duration | date:'mm:ss' }}</div>
    </div>
  </div>

  <div class="additional-controls">
    <button class="icon-button">&#x1f3a4;</button>
    <button class="icon-button">&#x2630;</button>
    <button class="icon-button">&#x1f4fa;</button>
    <button class="icon-button">&#x1f50a;</button>
    <!-- <p-slider [(ngModel)]="volume" [min]="0" [max]="100" [step]="1" [style]="{ 'width': '100px' }"></p-slider> -->
    <p-slider [min]="0" [max]="100" [step]="1" [style]="{ 'width': '100px' }"></p-slider>
    <button class="icon-button">&#x26f6;</button>
  </div>
</div>